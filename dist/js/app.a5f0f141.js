(function(e){function t(t){for(var n,c,o=t[0],s=t[1],l=t[2],d=0,v=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&v.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("b85c"),i=(r("e9c4"),r("4e827"),r("caad"),r("2f62")),c=r("068b");n["a"].use(i["a"]);var o={strict:!0,state:{testData:"Test",referencedFile:void 0},mutations:{changeTestData:function(e,t){e.testData=t},openFile:function(e,t){e.referencedFile=t},setActiveBuildingId:function(e,t){e.referencedFile&&(e.referencedFile.activeBuildingId=t)},setActivePhaseId:function(e,t){e.referencedFile&&(e.referencedFile.activePhaseId=t)}},getters:{capitalizedTestData:function(e){return e.testData.toUpperCase()},activeBuilding:function(e){if(e.referencedFile){var t=e.referencedFile,r="building "+t.activeBuildingId;return t.buildingData[r]}},activeProgramUnsorted:function(e){if(e.referencedFile){var t=e.referencedFile,r="phase "+t.activePhaseId+" | building "+t.activeBuildingId,n=JSON.parse(JSON.stringify(t.allProgramData[r]));return n.sort((function(e,t){return e.id-t.id})),n}},getColorKey:function(e){if(e.referencedFile){var t=e.referencedFile;return t.colorKey}},getColorScale:function(e){if(e.referencedFile){var t,r=e.referencedFile,n=c["e"],i=[],o=[],s=Object(a["a"])(r.colorKey);try{for(s.s();!(t=s.n()).done;){var l=t.value;i.includes(l.department)||(i.push(l.Department),o.push(l.HexColor))}}catch(O){s.e(O)}finally{s.f()}var u,d=Object(a["a"])(n);try{for(d.s();!(u=d.n()).done;){var v=u.value;o.push(v)}}catch(O){d.e(O)}finally{d.f()}var f,p=[],h="phase "+r.activePhaseId+" | building "+r.activeBuildingId,m=r.allProgramData[h],g=Object(a["a"])(m);try{for(g.s();!(f=g.n()).done;){var b=f.value;p.includes(b.department)||p.push(b.department)}}catch(O){g.e(O)}finally{g.f()}p.sort();for(var y=0,x=p;y<x.length;y++){var k=x[y];i.push(k)}var w=c["d"]().domain(i).range(o);return w}},getActiveLevelsByElevation:function(e){if(e.referencedFile){var t=e.referencedFile,r="building "+t.activeBuildingId,n=JSON.parse(JSON.stringify(t.levelData[r])),a=[];for(var i in n)if("meta"!=i){var c=n[i];c.id=i,a.push(c)}return a.sort(o),a}function o(e,t){var r=e.elevation,n=t.elevation,a=0;return r>n?a=1:r<n&&(a=-1),a}},activeProgram:function(e){if(e.referencedFile){var t=e.referencedFile,r="phase "+t.activePhaseId+" | building "+t.activeBuildingId;return t.allProgramData[r]}}}},s=new i["a"].Store(o),l=r("f309");n["a"].use(l["a"]);var u=new l["a"]({}),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"grey darken-2",dark:"",dense:""},scopedSlots:e._u([{key:"extension",fn:function(){return[r("v-tabs",{attrs:{"show-arrows":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.tabs,(function(t,n){return r("v-tab",{key:n},[e._v(" "+e._s(t))])})),1)]},proxy:!0}])},[r("div",{staticClass:"d-flex align-center my-0 py-0"},[r("h2",{staticClass:"roboto-mono my-0 py-0"},[e._v("Planning Blocks")])])]),r("v-main",[0==e.selectedTab?r("plan-select-tab"):e._e(),1==e.selectedTab?r("block-creation-tab"):e._e(),2==e.selectedTab?r("block-validation-tab"):e._e()],1)],1)},v=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[e.referencedFile?r("div",[r("v-row",[r("v-col",[r("h3",[e._v("Create a Block for Each Program Element in Plan")])])],1),r("v-row",[r("v-col",[r("p",[e._v(" This operation will create "+e._s(e.numberOfBlocks)+" program blocks, distributed across "+e._s(e.numberOfGroups)+" groups and "+e._s(e.numberOfTypes)+" types of program. ")])])],1),r("v-row",[r("v-col",[r("v-btn",{directives:[{name:"blur",rawName:"v-blur"}],attrs:{elevation:"4",outlined:"",rounded:"",large:"",dark:"",color:"#A80051"},on:{click:function(t){return e.createButtonClicked()}}},[e._v("Build Blocks")])],1)],1),r("v-row",[r("v-col")],1),r("v-row",[r("v-col")],1),r("v-row",[r("v-col")],1),r("v-row",[r("v-col")],1),r("v-row",[r("v-col")],1)],1):r("div",[r("v-row",[r("v-col",[r("h2",{staticClass:"red--text"},[e._v(' Use the "Select Plan" Tab to Load Programming Data ')])])],1)],1)])},p=[],h=r("1da1"),m=r("5530"),g=(r("96cf"),r("b0c0"),r("2532"),r("d3b7"),r("ddb0"),r("ac1f"),r("5319"),window.WSM),b=window.FormIt,y={name:"BlockCreationTab",beforeMount:function(){},beforeDestroy:function(){},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(i["c"])(["referencedFile"])),Object(i["b"])(["getActiveLevelsByElevation","activeProgram","getColorKey"])),{},{numberOfBlocks:function(){var e,t=0,r=Object(a["a"])(this.activeProgram);try{for(r.s();!(e=r.n()).done;){var n=e.value;t+=n.quantity}}catch(i){r.e(i)}finally{r.f()}return t},numberOfGroups:function(){var e,t=0,r=[],n=Object(a["a"])(this.activeProgram);try{for(n.s();!(e=n.n()).done;){var i=e.value;r.includes(i.group)||(r.push(i.group),t+=1)}}catch(c){n.e(c)}finally{n.f()}return t},numberOfTypes:function(){var e,t=0,r=[],n=Object(a["a"])(this.activeProgram);try{for(n.s();!(e=n.n()).done;){var i=e.value;r.includes(i.department)||(r.push(i.department),t+=1)}}catch(c){n.e(c)}finally{n.f()}return t},structuredProgramData:function(){var e,t={},r=Object(a["a"])(this.activeProgram);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.department in t||(t[n.department]=[])}}catch(h){r.e(h)}finally{r.f()}var i,c={},o=Object(a["a"])(this.activeProgram);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.group in c||(c[s.group]=JSON.parse(JSON.stringify(t)))}}catch(h){o.e(h)}finally{o.f()}var l={};for(var u in this.getActiveLevelsByElevation){var d=this.getActiveLevelsByElevation[u];l[d.id]={name:d.name,id:d.id,elevation:d.elevation,groups:void 0,nextElev:void 0},u<this.getActiveLevelsByElevation-1?l[d.id].nextElev=this.getActiveLevelsByElevation[u+1]:l[d.id].nextElev=l[d.id].elevation+12,l[d.id].groups=JSON.parse(JSON.stringify(c))}var v,f=Object(a["a"])(this.activeProgram);try{for(f.s();!(v=f.n()).done;){var p=v.value;l[p.level]["groups"][p.group][p.department].push(p)}}catch(h){f.e(h)}finally{f.f()}return l}}),data:function(){return{}},methods:{createButtonClicked:function(){function e(e){return t.apply(this,arguments)}function t(){return t=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this",t),e.next=3,t.getInSketchMaterials();case 3:return r=e.sent,e.next=6,t.makeMissingMaterials(t,r);case 6:return e.next=8,t.getInSketchMaterials();case 8:return n=e.sent,e.next=11,t.getInSketchLevels();case 11:return a=e.sent,e.next=14,t.makeMissingLevels(t,a);case 14:return e.next=16,t.getInSketchLevels();case 16:i=e.sent,t.createProgrammingBlocks(t,n,i);case 18:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}e(this)},getInSketchMaterials:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i,c,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,b.MaterialProvider.GetMaterials(b.LibraryType.SKETCH);case 3:r=e.sent,n=Object(a["a"])(r),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=16;break}return c=i.value,e.next=11,b.MaterialProvider.GetMaterialName(b.LibraryType.SKETCH,c);case 11:o=e.sent,console.log("name",o,"material",c),1==o.Result&&(s={name:o.Name,id:c},t[o.Name]=s);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](5),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));function t(){return e.apply(this,arguments)}return t}(),makeMissingMaterials:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r){var n,i,c,o,s,l,u,d,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],i=Object(a["a"])(t.getColorKey),e.prev=2,i.s();case 4:if((c=i.n()).done){e.next=27;break}if(o=c.value,s=o.Department,l=o.HexColor,u=t.hexToRgb(l),console.log("rgb conversion results",u,s),!u||s in r){e.next=25;break}return console.log("running material creation loop",o),e.next=14,g.Color(u.r,u.g,u.b,255);case 14:return d=e.sent,console.log("wsm color",d),e.next=18,b.MaterialProvider.MaterialData(d);case 18:return v=e.sent,v.MaterialName=s,console.log("new formit material",v),e.next=23,b.MaterialProvider.CreateMaterial(b.LibraryType.SKETCH,v);case 23:f=e.sent,n.push(f);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](2),i.e(e.t0);case 32:return e.prev=32,i.f(),e.finish(32);case 35:return e.abrupt("return",n);case 36:case"end":return e.stop()}}),e,null,[[2,29,32,35]])})));function t(t,r){return e.apply(this,arguments)}return t}(),addMissingLevelsAndGetUpdatedLevelList:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("adding missing levels",t),e.abrupt("return","some data");case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getInSketchLevels:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.Model.GetHistoryID();case 2:return t=e.sent,e.next=5,b.Levels.GetLevelsData(t,!0);case 5:return r=e.sent,console.log("current level data",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),makeMissingLevels:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r){var n,i,c,o,s,l,u,d,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("making missing levels",t,r),n=[],i=Object(a["a"])(r);try{for(i.s();!(c=i.n()).done;)o=c.value,n.push(o.Name)}catch(p){i.e(p)}finally{i.f()}console.log("existing level names",n),s=Object(a["a"])(t.getActiveLevelsByElevation),e.prev=6,s.s();case 8:if((l=s.n()).done){e.next=23;break}if(u=l.value,n.includes(u.name)){e.next=21;break}return e.next=13,b.Model.GetHistoryID();case 13:return d=e.sent,e.next=16,b.Levels.AddLevels(d,1,u.elevation,12);case 16:return v=e.sent,console.log("new levels list",v),f=v.LevelIds[0],e.next=21,b.Levels.ChangeLevelName(f,u.name);case 21:e.next=8;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](6),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[6,25,28,31]])})));function t(t,r){return e.apply(this,arguments)}return t}(),createProgrammingBlocks:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,r,n){var i,c,o,s,l,u,d,v,f,p,h,m,y,x,k,w,O,P,j,B,I,S,C,F,D,_,T,M,L,A,E,N;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("creating programming blocks",t,r,n),i={x:0,y:0},c=[],e.t0=regeneratorRuntime.keys(t.structuredProgramData);case 4:if((e.t1=e.t0()).done){e.next=101;break}o=e.t1.value,s=t.structuredProgramData[o],l=-15,u=[],d=void 0,v=Object(a["a"])(n);try{for(v.s();!(f=v.n()).done;)p=f.value,p.Name==s.name&&p.Elevation==s.elevation&&(d=p.Id.Object)}catch(R){v.e(R)}finally{v.f()}e.t2=regeneratorRuntime.keys(s.groups);case 13:if((e.t3=e.t2()).done){e.next=86;break}h=e.t3.value,m=s.groups[h],y=l+15,x=[],i.y=y,e.t4=regeneratorRuntime.keys(m);case 20:if((e.t5=e.t4()).done){e.next=75;break}k=e.t5.value,w=m[k],O=Object(a["a"])(w),e.prev=24,O.s();case 26:if((P=O.n()).done){e.next=65;break}if(j=P.value,!(j.quantity>0&&j.area>0)){e.next=60;break}B=Math.sqrt(j.area),I=B/2,i.x+=I,S=0;case 33:if(!(S<j.quantity)){e.next=57;break}return e.next=36,g.Geom.Point3d(i.x-I,i.y,s.elevation);case 36:return C=e.sent,e.next=39,g.Geom.Point3d(i.x+I,i.y+B,s.nextElev);case 39:return F=e.sent,e.next=42,b.Model.GetHistoryID();case 42:return D=e.sent,e.next=45,g.APICreateBlock(D,C,F);case 45:return _=e.sent,e.next=48,b.Model.GetHistoryID();case 48:return T=e.sent,e.next=51,g.APICreateGroup(T,[_]);case 51:M=e.sent,x.push(M),i.y+=B;case 54:S++,e.next=33;break;case 57:i.x+=I,e.next=61;break;case 60:console.log("program failed to meet criteria",j);case 61:i.y>l&&(l=i.y),i.y=y;case 63:e.next=26;break;case 65:e.next=70;break;case 67:e.prev=67,e.t6=e["catch"](24),O.e(e.t6);case 70:return e.prev=70,O.f(),e.finish(70);case 73:e.next=20;break;case 75:if(!(x.length>0)){e.next=83;break}return e.next=78,b.Model.GetHistoryID();case 78:return L=e.sent,e.next=81,g.APICreateGroup(L,x);case 81:A=e.sent,u.push(A);case 83:i.x=0,e.next=13;break;case 86:if(!(u.length>0)){e.next=97;break}return e.next=89,b.Model.GetHistoryID();case 89:return E=e.sent,e.next=92,g.APICreateGroup(E,u);case 92:if(N=e.sent,!d){e.next=96;break}return e.next=96,g.APISetObjectProperties(E,N,s.name,!0,[d]);case 96:c.push(N);case 97:i.x=0,i.y=0,e.next=4;break;case 101:console.log(c);case 102:case"end":return e.stop()}}),e,null,[[24,67,70,73]])})));function t(t,r,n){return e.apply(this,arguments)}return t}(),hexToRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,r,n){return t+t+r+r+n+n}));var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}}},x=y,k=r("2877"),w=r("6544"),O=r.n(w),P=r("8336"),j=r("62ad"),B=r("a523"),I=r("0fd9"),S=Object(k["a"])(x,f,p,!1,null,null,null),C=S.exports;O()(S,{VBtn:P["a"],VCol:j["a"],VContainer:B["a"],VRow:I["a"]});var F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col")],1),r("v-row",[r("v-col")],1)],1)},D=[],_={name:"BlockValidationTab"},T=_,M=Object(k["a"])(T,F,D,!1,null,null,null),L=M.exports;O()(M,{VCol:j["a"],VContainer:B["a"],VRow:I["a"]});var A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("h3",[e._v("Select Existing Space Planner .json File")])])],1),r("v-row",[r("v-col",[r("v-btn",{directives:[{name:"blur",rawName:"v-blur"}],staticClass:"mb-3",attrs:{large:"",rounded:"",dark:"",color:"#988600"},on:{click:function(t){return e.openFile()}}},[e._v("Open JSON File")])],1)],1),e.referencedFile?r("div",[r("v-row",[r("v-col",{staticClass:"mt-0 pt-0"},[r("h5",{staticClass:"mt-0 pt-0",staticStyle:{color:"#988600"}},[e._v(" File Imported Successfully! ")])])],1),r("v-row",[r("v-col",[r("h1",{staticClass:"roboto-mono"},[e._v(e._s(e.projectName))])])],1),r("hr",{staticClass:"mb-6"}),r("v-row",[r("v-col",[r("h3",[e._v("Select Building and Phase as Basis for Planning Blocks")])])],1),r("v-row",{},[r("v-col",[r("v-select",{staticClass:"ma-0 pa-0 mt-3",attrs:{color:"#988600","item-color":"#988600",label:"Select Building",items:e.buildingSelectOptions,value:e.activeBuildingId},on:{input:function(t){return e.setActiveBuildingId(t)}}})],1)],1),r("v-row",[r("v-col",[r("v-select",{staticClass:"ma-0 pa-0",attrs:{color:"#988600","item-color":"#988600",label:"Select Phase",items:e.phaseSelectOptions,value:e.activePhaseId},on:{input:function(t){return e.setActivePhaseId(t)}}})],1)],1),r("v-row",[r("v-col",[r("circle-packing-diagram")],1)],1)],1):e._e(),r("v-row",[r("v-col")],1),r("input",{staticStyle:{display:"none"},attrs:{id:"file-input",type:"file",name:"name"}})],1)},E=[],N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pa-6 elevation-4"},[r("svg",{staticClass:"bubbleDiagram w-100 col ma-0 pa-0",staticStyle:{height:"500px"},attrs:{id:"d3-bubble-diagram-canvas"}})])},R=[],V=(r("a9e3"),r("a15b"),r("fb6a"),{name:"CirclePackingDiagram",mounted:function(){this.drawUpdateDepartmentBubbles(this.structureData(this.activeProgramUnsorted)),window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},watch:{activeProgramUnsorted:{handler:function(){this.drawUpdateDepartmentBubbles(this.structuredData)},deep:!0}},computed:Object(m["a"])({structuredData:function(){var e=this.structureData(this.activeProgramUnsorted);return e},activeBuildingName:function(){return this.activeBuilding.name}},Object(i["b"])(["activeProgramUnsorted","activeBuilding","getColorScale"])),methods:{resize:function(){this.drawUpdateDepartmentBubbles(this.structuredData)},drawUpdateDepartmentBubbles:function(e){var t=this.getColorScale,r=c["f"]("#d3-bubble-diagram-canvas"),n=Number(r.style("width").replace("px","")),a=Number(r.style("height").replace("px",""));r.style("font","10px sans-serif").attr("text-anchor","middle");var i=function(e){return c["c"]().size([n,a]).padding(3)(c["b"](e).sum((function(e){return e.value})).sort((function(e,t){return t.value-e.value})))},o=i(e),s=r.join("g"),l=s.selectAll("circle").data(o.descendants().slice(1)).join((function(e){return e.append("circle").attr("r",3).attr("cx",n/2).attr("cy",a/2).attr("start-x",(function(e){return e.x})).attr("start-y",(function(e){return e.y})).style("opacity",0)})).attr("fill",(function(e){return 0!=e.height?"white":t(e.data.dept)})).attr("stroke",(function(e){return 0!=e.height?"#000":null})).attr("stroke-dasharray",(function(e){return 2==e.height?"3,4,3,4":"none"})).classed("circle-selected",!1).on("click",(function(){var e=c["f"](this).classed("circle-selected");e?c["f"](this).classed("circle-selected",!1).selectAll("title").remove():c["f"](this).classed("circle-selected",!0).append("title").text((function(e){return e.data.name})),console.log("clicked","selected",e),c["f"](this).transition().duration(200).attr("stroke-width",e?1:3).attr("stroke",(function(t){return e&&0!=t.height?"#000":e?null:"#000"})).attr("stroke-dasharray",(function(t){return e&&2==t.height?"2,4,2,4":"none"}))}));l.transition().duration(200).ease(c["a"]).attr("r",(function(e){return e.r})).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).style("opacity",1)},structureData:function(e){var t,r={name:this.activeBuildingName,children:[],keys:{},indexer:0},n=Object(a["a"])(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,c=i.quantity,o=0,s="",l="";if(""!=i.group?(o=3,s=i.group+" | group",l=i.department+" | department"):""!=i.department?(o=2,s=i.department+" | department"):o=1,1==o){var u=0;while(u<c)u++,r.children.push({name:i.name,value:i.area,dept:i.department}),r.indexer++}else if(2==o){s in r.keys||(r.keys[s]=r.indexer,r.indexer++,r.children.push({name:i.department,indexer:0,children:[]}));var d=r.keys[s],v=0;while(v<c)v++,r.children[d].children.push({name:i.name,value:i.area,dept:i.department}),r.children[d].indexer++}else if(3==o){s in r.keys||(r.keys[s]=r.indexer,r.indexer++,r.children.push({name:i.group,indexer:0,children:[],keys:{}}));var f=r.keys[s];if(""==i.department){var p=0;while(p<c)p++,r.children[f].children.push({name:i.name,value:i.area,dept:i.department}),r.children[f].indexer++}else{l in r.children[f].keys||(r.children[f].keys[l]=r.children[f].indexer,r.children[f].indexer++,r.children[f].children.push({name:i.department,indexer:0,children:[]}));var h=r.children[f].keys[l],m=r.children[f].children[h],g=0;while(g<c)g++,m.children.push({name:i.name,value:i.area,dept:i.department}),m.indexer++}}}}catch(b){n.e(b)}finally{n.f()}return r}}}),G=V,J=Object(k["a"])(G,N,R,!1,null,null,null),U=J.exports,H={components:{circlePackingDiagram:U},name:"PlanSelectTab",mounted:function(){var e=document.getElementById("file-input");e.addEventListener("change",r,!1);var t=this;function r(){var e=this.files;t.activateOpenedFile(e)}},beforeDestroy:function(){},computed:Object(m["a"])(Object(m["a"])({},Object(i["c"])(["referencedFile"])),{},{activeBuildingId:function(){return this.referencedFile?this.referencedFile.activeBuildingId:void 0},activePhaseId:function(){return this.referencedFile?this.referencedFile.activePhaseId:void 0},projectName:function(){return this.referencedFile?this.referencedFile.projectName:void 0},buildingSelectOptions:function(){var e=[],t=this.referencedFile.buildingData;if(this.referencedFile)for(var r in t){var n=t[r],a={text:n.name,value:n.id};e.push(a)}return e},phaseSelectOptions:function(){var e=[],t=this.referencedFile.phaseData;if(this.referencedFile)for(var r in t){var n=t[r],a={text:n.name,value:n.id};e.push(a)}return console.log("phase select options",e),e}}),data:function(){return{}},methods:{openFile:function(){console.log("open file method was called"),document.getElementById("file-input").click()},activateOpenedFile:function(e){var t=this;console.log("activate opened file called",e[0]);var r=new FileReader;r.addEventListener("load",(function(){var e=JSON.parse(r.result);t.$store.commit("openFile",e)})),r.readAsText(e[0])},setActiveBuildingId:function(e){this.$store.commit("setActiveBuildingId",e)},setActivePhaseId:function(e){this.$store.commit("setActivePhaseId",e)}}},$=H,K=r("b974"),z=Object(k["a"])($,A,E,!1,null,null,null),q=z.exports;O()(z,{VBtn:P["a"],VCol:j["a"],VContainer:B["a"],VRow:I["a"],VSelect:K["a"]});var W={name:"App",components:{BlockCreationTab:C,BlockValidationTab:L,PlanSelectTab:q},data:function(){return{tabs:["Select Plan","Create","validate"],selectedTab:0}}},Q=W,X=(r("034f"),r("7496")),Y=r("40dc"),Z=r("f6c4"),ee=r("71a3"),te=r("fe57"),re=Object(k["a"])(Q,d,v,!1,null,null,null),ne=re.exports;O()(re,{VApp:X["a"],VAppBar:Y["a"],VMain:Z["a"],VTab:ee["a"],VTabs:te["a"]}),n["a"].config.productionTip=!1,n["a"].directive("blur",{inserted:function(e){e.onfocus=function(e){return e.target.blur()}}}),new n["a"]({vuetify:u,store:s,render:function(e){return e(ne)}}).$mount("#app")},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.a5f0f141.js.map